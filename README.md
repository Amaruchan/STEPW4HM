# STEPW4HM# Google STEP Class 4 Homework

## 宿題①

### データ形式
各頂点を表すデータクラス`Node`を作成した。フィールド変数は以下の3つ。
- `title`
タイトルを保持
- `next_ids`
リンク先のIDをリストとして保持。
- `searched`
探索済みかを表す真偽値。

全ての頂点にIDとリンク先のIDを割り当てることで、対応関係（辺）がうまれ、グラフが完成する。IDからノードへの辞書`nodes`によってIDの割り当てを行い、グラフの操作を行う。
- 関数`make_graph_from_file`
各頂点に対して、pages.txtファイルからIDを割り当て、links.txtからリンク先のIDを割り当てを行う。
- 関数`get_id_from_title`
（ID → ノード）だけでなく、逆方向の探索（ノード → ID）もできるように、`title`からIDを導出する関数も作成した。

### 幅優先探索
再帰関数を用いて、深さごとに階層的に幅優先探索を行う。
first in first outを実現するために、探索の順序をキューで制御。
キューの要素は、ノードに加えて、これまでのルートの情報も含める。
- `bfs_rec`
各階層の幅優先探索を行う再帰関数。
キューが存在する限り繰り返され、目的地が見つからなければ空のルートを返す。
キューを先頭から取り出し、ノード`node`とこれまでのルート`route`を得る。
`node`の全てのリンク先に対して探索を行う。目的地`end_id`が見つかれば更新したルート`new_route`を返し、見つからなければ、探索を続けるために、リンク先のノードと更新したルート`new_route`をキューに加える。ただし、ループを防ぐために`serached`をチェックし、探索済みであればキューには加えない。
ここまでが、一つの階層内での処理であり、自己再帰によって次の階層を呼び出す。
- `bfs`
探索元`start_id`から目的地`end_id`までの幅優先探索を行うために、再帰関数`bfs_rec`を呼び出す。
最初のキューは`start_id`のノードと空のルートであり、これを加えて`bfs_recを呼び出す。

### 実行手順

幅優先探索`bfs`を行うためには、グラフ`nodes`と探索元のID`start_id`と目的地のID`end_id`が必要である。
関数`make_graph_from_file`で`nodes`を作成し、関数`get_id_from_title`でIDに変換する。
`bfs.py`では、幅優先探索`bfs`で求めた最短経路`route`を順番に出力し、最短距離も出力した。`route`が空であるとき、探索失敗であるため、"Not exist"を出力した。
